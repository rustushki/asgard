# Search these directories for libraries to include.
# '#' indicates the directory that scons is executed in.
# TODO: pkg-config for boost?

# Import the environment from parent class
Import('env')

include_path =                     \
    '#/src/common:'                \
   +'#/src/console:'               \
   +'#/src/database:'              \
   +'#/src/graphicsEngine:'        \
   +'#/src/gui:'                   \
   +'#/src/main:'                  \
   +'#/src/map:'                   \
   +'#/src/model:'                 \
   +'/usr/include/SDL:'            \
   +'/usr/include/python2.7:'

# List of Objects to Compile
objects = [
'./console/Console.cpp',
'./console/ConsolePython.cpp',
'./database/QueryGenerator.cpp',
'./database/GrassTile.cpp',
'./database/RowSet.cpp',
'./database/RectHardpoint.cpp',
'./database/MapObjectFactory.cpp',
'./database/Coordinate.cpp',
'./database/MapObject.cpp',
'./database/NonPlayerCharacter.cpp',
'./database/CharacterMapObject.cpp',
'./database/WaterTile.cpp',
'./database/Database.cpp',
'./database/CircHardpoint.cpp',
'./database/Container.cpp',
'./database/DesertTile.cpp',
'./database/Tile.cpp',
'./database/DrawableFactory.cpp',
'./database/AnimationInteraction.cpp',
'./database/ItemInteraction.cpp',
'./database/DialogInteraction.cpp',
'./database/RectInteractionpoint.cpp',
'./database/CircInteractionpoint.cpp',
'./graphicsEngine/GraphicsEngine.cpp',
'./graphicsEngine/Animation.cpp',
'./graphicsEngine/Drawable.cpp',
'./graphicsEngine/Layer.cpp',
'./graphicsEngine/RectBlitter.cpp',
'./graphicsEngine/Screen.cpp',
'./graphicsEngine/SpriteSheetCache.cpp',
'./gui/Box.cpp',
'./gui/GuiFactory.cpp',
'./gui/Dialog.cpp',
'./gui/ResourceLoader.cpp',
'./gui/Theme.cpp',
'./map/Map.cpp',
'./model/GamerInventory.cpp',
'./model/Inventory.cpp',
'./model/Item.cpp',
'./common/EventHandler.cpp',
'./common/Asgard.cpp',
#'./database/test.cpp'
#'./graphicsEngine/test.cpp'
#'./model/test.cpp'
'./main/main.cpp'
]

if ARGUMENTS.get('VERBOSE') != "1":
	env['CXXCOMSTR'] = "[CC] $TARGET"
	env['LINKCOMSTR'] = "[LK] $TARGET"

# Use this for FreeBSD and Boost 1.52, where boost_thread-mt has been consolidated into boost_thread
#asgard = env.Program('../asgard', objects, CPPPATH=include_path, LIBS=['boost_thread','sqlite3','SDL','SDL_image','SDL_ttf','python2.7'], CXXFLAGS=['-Wall', '-O2'])
asgard = env.Program('../asgard', objects, CPPPATH=include_path, LIBS=['boost_thread-mt','sqlite3','SDL','SDL_image','SDL_ttf','python2.7'], CXXFLAGS=['-Wall', '-O2'])
Export("asgard")
