# Get the environment from the parent sconscript
Import('env')

# Build asgard.db3
# Note that this requires sqlite3; but you should already have that if you
# expect to compile and run.
target = './asgard.db3'
create = 'sqlite3 $TARGET < ./database/createdb.sql'
populate = 'sqlite3  $TARGET < ./database/populatedb.sql'
asgarddb3 = env.Command(target, [], create+' && '+populate)

# Let scons know how to cleanup asgard.db3
Clean(asgarddb3, 'asgard.db3')

# Export asgard.db3 to parent sconscript.
Export("asgarddb3")
